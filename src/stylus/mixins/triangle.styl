//
// 1. Triangle 
// Usage: triangle(width, height, direction, color)
// --------------------------------------------------
triangle($width = 10px, $height = 10px, $direction = 'bottom', $color = #000)

  // Base triangle styles
  width 0
  height 0
  background 0
  border-style solid

  // Styles for each direction
  directions = {
    top: {
      border-width: 0 ($width * .5) $height ($width * .5),
      border-color: transparent transparent $color transparent
    },
    topRight: {
      border-width: 0 $width $height 0,
      border-color: transparent $color transparent transparent
    },
    right: {
      border-width: ($height * .5) 0 ($height *.5) $width,
      border-color: transparent transparent transparent $color
    },
    bottomRight: {
      border-width: 0 0 $height $width,
      border-color: transparent transparent $color transparent
    },
    bottom: {
      border-width: $height ($width * .5) 0 ($width * .5),
      border-color: $color transparent transparent transparent
    },
    bottomLeft: {
      border-width: $width 0 0 $height,
      border-color: transparent transparent transparent $color
    },
    left: {
      border-width: ($height * .5) $width ($height * .5) 0,
      border-color: transparent $color transparent transparent
    },
    topLeft: {
      border-width: $height $width 0 0,
      border-color: $color transparent transparent transparent
    }
  }

  // Mixin styles for passed direction
  styles = directions[$direction]
  {styles}
  

// 
// 2. Triangle line    
// Usage: triangle-line(width, height, color-line, color-triangle, direction, position)     
      
// --------------------------------------------------

triangle-line($width = '', $height = '', $color-line = '', $color-triangle = '', $direction = '', $position = '')  

  w = -($width / 2)   
      
  &:before,
  &:after 
    content ""
    position absolute  
     
    if ($position == 'left')
      left: 0  
    
    else if ($position == 'right')
      right: 0
     
    else
      margin-left: w
      left: 50%
    
    if ($direction == 'bottom')
      top: 100% 
  
    else 
      bottom: 100%
      
  &:before 
    triangle($width, $height, $direction, $color-line) 
    
  &:after  
    triangle(($width - 1.5), ($height - 2), $direction, $color-triangle) 
    margin-left (w + 2)
    